CLASE POSTGRE 2



Codigo para crear tablas de la clase

-- Tabla de tipos de películas
CREATE TABLE TipoPeliculas (
    idT INT PRIMARY KEY,
    Genero VARCHAR(50) NOT NULL
);

-- Tabla de películas
CREATE TABLE Peliculas (
    id INT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    sinapsis TEXT,
    director VARCHAR(100),
    fechaDeEstreno DATE,
    idTipo INT,
    FOREIGN KEY (idTipo) REFERENCES TipoPeliculas(idT)
);

-- Tabla de actores
CREATE TABLE Actores (
    idActor INT PRIMARY KEY,
    nombreActor VARCHAR(50) NOT NULL,
    apellidoActor VARCHAR(50) NOT NULL,
    edadActor INT,
    premiosActor INT
);

-- Tabla de reparto (relación N:N entre Peliculas y Actores)
CREATE TABLE Reparto (
    idPelicula INT,
    idActor INT,
    rol VARCHAR(100),
    PRIMARY KEY (idPelicula, idActor),
    FOREIGN KEY (idPelicula) REFERENCES Peliculas(id),
    FOREIGN KEY (idActor) REFERENCES Actores(idActor)
);

-- Tabla de recaudación y asistencia
CREATE TABLE RecaudacionYAsistencia (
    idRYA INT PRIMARY KEY,
    recaudacion DECIMAL(15, 2) NOT NULL,  -- Monto en dinero (ej: dólares)
    asistencia INT NOT NULL,              -- Número de personas
    idPelicula INT NOT NULL,
    FOREIGN KEY (idPelicula) REFERENCES Peliculas(id)
);


Instrucción para mostrar todas las tablas del schema

SELECT table_name
FROM information_schema.tables
WHERE table_schema = 'public'
  AND table_type = 'BASE TABLE';









